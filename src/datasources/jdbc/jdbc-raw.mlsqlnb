[{"kind":1,"language":"markdown","value":"## Raw JDBC\n\nByzer has a JDBC tool to help the user to access the database directly. For example,\nwe can list all tables in some db, to create a table e.g.","outputs":[]},{"kind":1,"language":"markdown","value":"The first step we can use connect to connect a database","outputs":[]},{"kind":2,"language":"mlsql","value":"set PASSWORD=`select aes_decrypt(\"xxxxxx\")` where type=\"sql\" and scope=\"session\";\n\nconnect jdbc where\n url=\"jdbc:mysql://127.0.0.1:3306/wow?characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&tinyInt1isBit=false&useSSL=false\"\n and driver=\"com.mysql.jdbc.Driver\"\n and user=\"root\"\n and password=\"${PASSWORD}\"\n as mysql_instance;","outputs":[{"mime":"x-application/mlsql-notebook","value":"{}"}]},{"kind":1,"language":"markdown","value":"To create a table in MySQL.","outputs":[]},{"kind":2,"language":"mlsql","value":"run command as JDBC.`mysql_instance._` where\nsqlMode=\"ddl\" and `driver-statement-0`='''\nCREATE TABLE IF NOT EXISTS my_table (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    name VARCHAR(50) NOT NULL,\n    age INT\n    );\n''';","outputs":[{"mime":"x-application/mlsql-notebook","value":"{\n\t\"schema\": {\n\t\t\"type\": \"struct\",\n\t\t\"fields\": [\n\t\t\t{\n\t\t\t\t\"name\": \"name\",\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"nullable\": true,\n\t\t\t\t\"metadata\": {}\n\t\t\t}\n\t\t]\n\t},\n\t\"data\": []\n}"}]},{"kind":1,"language":"markdown","value":"To query the new table","outputs":[]},{"kind":2,"language":"mlsql","value":"run command as JDBC.`mysql_instance._` where\nsqlMode=\"query\" and `driver-statement-query`='''\nshow tables\n''' as allTablesInWowDB;\n\nselect * from allTablesInWowDB where Tables_in_wow like \"my%\"  as output;","outputs":[{"mime":"x-application/mlsql-notebook","value":"{\n\t\"schema\": {\n\t\t\"type\": \"struct\",\n\t\t\"fields\": [\n\t\t\t{\n\t\t\t\t\"name\": \"Tables_in_wow\",\n\t\t\t\t\"type\": \"string\",\n\t\t\t\t\"nullable\": true,\n\t\t\t\t\"metadata\": {}\n\t\t\t}\n\t\t]\n\t},\n\t\"data\": [\n\t\t{\n\t\t\t\"Tables_in_wow\": \"my_table\"\n\t\t}\n\t]\n}"}]}]