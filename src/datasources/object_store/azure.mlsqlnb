[{"kind":1,"language":"markdown","value":"# Azure Cloud Blob","outputs":[{"mime":"text/plain","value":"MLSQL Parser error in [row:1 column:0]  error msg: mismatched input '#' expecting {<EOF>, 'load', 'save', 'select', 'insert', 'create', 'drop', 'refresh', 'set', 'connect', 'train', 'run', 'predict', 'register', 'unregister', 'include', EXECUTE_COMMAND, SIMPLE_COMMENT}\njava.lang.RuntimeException: MLSQL Parser error in [row:1 column:0]  error msg: mismatched input '#' expecting {<EOF>, 'load', 'save', 'select', 'insert', 'create', 'drop', 'refresh', 'set', 'connect', 'train', 'run', 'predict', 'register', 'unregister', 'include', EXECUTE_COMMAND, SIMPLE_COMMENT}\norg.apache.spark.MLSQLSyntaxErrorListener.syntaxError(MLSQLSyntaxErrorListener.java:29)\norg.antlr.v4.runtime.ProxyErrorListener.syntaxError(ProxyErrorListener.java:41)\norg.antlr.v4.runtime.Parser.notifyErrorListeners(Parser.java:544)\norg.antlr.v4.runtime.DefaultErrorStrategy.reportInputMismatch(DefaultErrorStrategy.java:327)\norg.antlr.v4.runtime.DefaultErrorStrategy.reportError(DefaultErrorStrategy.java:139)\nstreaming.dsl.parser.DSLSQLParser.statement(DSLSQLParser.java:168)\nstreaming.dsl.ScriptSQLExec$._parse(ScriptSQLExec.scala:158)\nstreaming.dsl.ScriptSQLExec$.parse(ScriptSQLExec.scala:100)\nstreaming.rest.RestController.$anonfun$script$9(RestController.scala:201)\ntech.mlsql.job.JobManager$.run(JobManager.scala:74)\nstreaming.rest.RestController.query$1(RestController.scala:196)\nstreaming.rest.RestController.script(RestController.scala:223)\nsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.lang.reflect.Method.invoke(Method.java:498)\nnet.csdn.modules.http.RestController.filter(RestController.java:139)\nnet.csdn.modules.http.RestController.dispatchRequest(RestController.java:99)\nnet.csdn.modules.http.HttpServer$DefaultHandler.handle(HttpServer.java:182)\norg.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)\norg.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)\norg.eclipse.jetty.server.Server.handle(Server.java:499)\norg.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:311)\norg.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)\norg.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:544)\norg.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)\norg.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)\njava.lang.Thread.run(Thread.java:748)"}]},{"kind":2,"language":"mlsql","value":"!plugin app add - \"byzer-objectstore-blob-3.3\";","outputs":[]},{"kind":2,"language":"mlsql","value":"SET azure_key=`select aes_decrypt('xxxxxxx') AS key`\nwhere type=\"sql\" and scope=\"session\";\n\nLOAD FS.``\nWHERE `fs.abfs.impl`=\"org.apache.hadoop.fs.azurebfs.AzureBlobFileSystem\t\"\nAND `fs.azure.account.auth.type.zjcstorageaccount1.dfs.core.windows.net`=\"SharedKey\"\nAND `fs.azure.account.key.zjcstorageaccount1.dfs.core.windows.net`=\"${azure_key}\"\nAS output;\n","outputs":[]},{"kind":2,"language":"mlsql","value":"load parquet.`abfs://xxxx@xxxxx.dfs.core.windows.net/poc/region_country_city` \nas region_country_city;","outputs":[]}]